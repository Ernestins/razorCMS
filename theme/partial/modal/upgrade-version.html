<div class="modal-header">
    <h3>Upgrade razorCMS <i class="fa fa-times pull-right" ng-click="cancel()"></i></h3>
</div>
<div class="modal-body">
	<p class="alert alert-info text-center" ng-hide="upgrading"><i class="fa fa-exclamation-circle"></i> Please note, any customisations to system code, will be overwritten.</p>
	<div class="text-center">
		<button class="btn btn-lg btn-primary" ng-hide="upgrading" ng-click="downloadVersion()"><i class="fa fa-gears"></i> Start Upgrade</button>
		<a ng-href="{{backupLink}}" class="btn btn-default" ng-show="upgrading == 3 || upgrading == 4" ng-disable="!backupLink"><i class="fa fa-download"></i> Download Backup</a>
		<button ng-click="checkSystem()" class="btn btn-primary" ng-show="upgrading == 4"><i class="fa fa-download"></i> Check Website</button>
		<button ng-click="revertUpgrade()" class="btn btn-default" ng-show="upgrading == 5"><i class="fa fa-download"></i> Revert Upgrade</button>
		<button ng-click="completeUpgrade()" class="btn btn-primary" ng-show="upgrading == 5"><i class="fa fa-download"></i> Finish Upgrade</button>
		<a ng-href="{{razorBaseUrl()}}" class="btn btn-success" ng-show="upgrading == 7"><i class="fa fa-refresh"></i> Upgrade Complete, Refresh in <span class="seconds-counter">10</span> sec</a>
	</div>
	<div class="text-center progress-box" ng-show="upgrading < 8">
		<span class="progress-ring ring-5" ng-class="{'ring-pulse': upgrading == 6, 'ring-active': upgrading > 6}">
			<span class="progress-ring ring-4" ng-class="{'ring-pulse': upgrading == 4 || upgrading == 5, 'ring-active': upgrading > 5}">
				<span class="progress-ring ring-3" ng-class="{'ring-pulse': upgrading == 3, 'ring-active': upgrading > 3}">
					<span class="progress-ring ring-2" ng-class="{'ring-pulse': upgrading == 2, 'ring-active': upgrading > 2}">
						<span class="progress-ring ring-1" ng-class="{'ring-pulse': upgrading == 1, 'ring-active': upgrading > 1}">{{stage}}</span>
					</span>
				</span>
			</span>
		</span>
	</div>
	<p ng-show="upgrading == 1" class="upgrade-message text-center">
		<i>Downloading version {{getVersion().cur.version}}.{{getVersion().cur.milestone}}.{{getVersion().cur.release}}.</i>
	</p>
	<p ng-show="upgrading == 2" class="upgrade-message text-center">
		<i>Creating backup of current system files.</i>
	</p>
	<p ng-show="upgrading == 3" class="upgrade-message text-center">
		<i>Upgrading to version {{getVersion().cur.version}}.{{getVersion().cur.milestone}}.{{getVersion().cur.release}}.</i>
	</p>
	<p ng-show="upgrading == 4" class="upgrade-message text-center">
		<i><strong>Waiting for user to respond</strong>, please click the button to check your site before continuing, then either revert the upgrade or finish.</i>
	</p>
	<p ng-show="upgrading == 5" class="upgrade-message text-center">
		<i>Finish upgrade or revert changes?</i>
	</p>
	<p ng-show="upgrading == 6" class="upgrade-message text-center">
		<i>Cleaning up system files.</i>
	</p>
	<p ng-show="upgrading == 7" class="upgrade-message text-center">
		<i>System upgraded to {{getVersion().cur.version}}.{{getVersion().cur.milestone}}.{{getVersion().cur.release}} succesfully.</i>
	</p>
	<p ng-show="upgrading == 8" class="upgrade-message text-center">
		<i>System reverted back to {{getVersion().sys.version}}.{{getVersion().sys.milestone}}.{{getVersion().sys.release}}, please upgrade manually or consult the razorCMS forums for help with the auto upgrader, you may close this window.</i>
	</p>
</div>