<div class="razor-admin-profile">
	<div class="row">
		<div class="col-sm-12">
			<div class="accordian" ng-controller="userListAccordion">
				<div class="filter row">
					<div class="col-sm-9">
						<div class="input-group">
	  						<span class="input-group-addon">Filter</span>
							<input class="form-control" ng-model="searchFilter" placeholder="Search to filter" />
						</div>
					</div>
					<div class="col-sm-3">
						<div class="input-group">
							<span class="input-group-addon">Limit</span>
							<input class="form-control" ng-model="searchLimit" ng-init="searchLimit = 50" type="number"/>
						</div>
					</div>
				</div>
				<accordion close-others="oneAtATime">
					<accordion-group ng-repeat="u in users | orderBy:'name' | filter:searchFilter | limitTo:searchLimit" is-open="isopen">
						<accordion-heading>
       						<i class="fa fa-eye" ng-hide="u.used_on_pages == null" title="Active"></i>
							{{u.name}}
							<i class="expander pull-right fa" ng-class="{'fa-chevron-down': isopen, 'fa-chevron-right': !isopen}"></i>
						</accordion-heading>
						<div class="content">
					        <div class="row">
					        	<div class="col-sm-12">
						        	<form class="form-horizontal" role="form" novalidate>
										<div class="form-group">
											<label class="col-sm-2 control-label">ID</label>
											<div class="col-sm-10">
												<span class="span-input">{{u.id}}</span>
											</div>
										</div>
										<div class="form-group">
											<label for="input-name" class="col-sm-2 control-label">Name</label>
											<div class="col-sm-7">
												<input type="text" class="form-control" id="input-name" name="name" ng-model="u.name" ng-disabled="user.id != u.id" required>
											</div>
											<div class="col-sm-2 error-block" ng-show="form.name.$dirty && form.name.$invalid">
												<span class="alert alert-danger alert-form" ng-show="form.name.$error.required">Required</span>
											</div>
										</div>
										<div class="form-group">
											<label for="input-email" class="col-sm-2 control-label">Email</label>
											<div class="col-sm-7">
												<input type="text" class="form-control" id="input-email" name="email" ng-model="u.email_address" ng-disabled="user.id != u.id" required>
											</div>
											<div class="col-sm-2 error-block" ng-show="form.email.$dirty && form.email.$invalid">
												<span class="alert alert-danger alert-form" ng-show="form.email.$error.required">Required</span>
											</div>
										</div>
										<div class="form-group" ng-if="user.id == u.id">
											<label for="new-password" class="col-sm-2 control-label">New Password</label>
											<div class="col-sm-3">
												<input id="new-password" name="newPassword" class="form-control" type="password" ng-model="user.new_password" placeholder="Leave blank to keep same" >
											</div>
											<label for="repeat-password" class="col-sm-1 control-label">Repeat</label>
											<div class="col-sm-3">
												<input id="repeat-password" name="repeatPassword" class="form-control" type="password" ng-model="user.repeat_password" placeholder="Leave blank to keep same" confirm="{{user.new_password}}">
											</div>
											<div class="col-sm-2 error-block" ng-show="(form.newPassword.$dirty && form.newPassword.$invalid) || (form.repeatPassword.$dirty && form.repeatPassword.$invalid)">
												<span class="alert alert-danger alert-form" ng-show="form.newPassword.$error.pattern">Invalid</span>
												<span class="alert alert-danger alert-form" ng-show="form.repeatPassword.$error.confirm">Miss match</span>
											</div>
										</div>
										<div class="form-group">
											<label for="input-active" class="col-sm-2 control-label">Active</label>
											<div class="col-sm-10">
												<slide-switch rzr-model="u.active" rzr-disabled="user.id == u.id || u.access_level < 10"></slide-switch>
											</div>
										</div>
										<div class="form-group">
											<label for="input-access-level" class="col-sm-2 control-label">Access Level</label>
											<div class="col-sm-2">
												<input type="number" class="form-control" id="input-access-level" ng-model="u.access_level" min="1" max="10" ng-disabled="user.id == u.id || u.access_level < 10" required>
											</div>
											<div class="col-sm-2 col-sm-offset-5 error-block" ng-show="form.access_level.$dirty && form.access_level.$invalid">
												<span class="alert alert-danger alert-form" ng-show="form.access_level.$error.required">Required</span>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">IP Address</label>
											<div class="col-sm-10">
												<span class="span-input">{{u.ip_address}}</span>
											</div>
										</div>
										<div class="form-group">
											<label class="col-sm-2 control-label">Last Logged In</label>
											<div class="col-sm-10">
												<span class="span-input">{{u.last_logged_in * 1000 | date:'EEE, MMM d, y h:mm a'}}</span>
											</div>
										</div>
										<div class="form-group">
											<div class="col-sm-10 col-sm-offset-2">
								                <button class="btn btn-success" ng-click="">
								                	<i class="fa fa-check"></i> Save Changes
								                </button>
								                <button class="btn btn-danger" ng-if="u.id != 1" ng-disabled="u.active" ng-click="user.splice($index,1); deleteUser(c.id)">
								                	<i class="fa fa-trash-o"></i> Remove User
								                </button>
											</div>
										</div>
									</form>
						        </div>
					        </div>
						</div>
					</accordion-group>
				</accordion>
			</div>
		</div>
	</div>
</div>